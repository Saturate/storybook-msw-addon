'use strict';

var Ke=Object.defineProperty;var Ve=(e,t,r)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var f=(e,t,r)=>(Ve(e,typeof t!="symbol"?t+"":t,r),r),N=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var P=(e,t,r)=>(N(e,t,"read from private field"),r?r.call(e):t.get(e)),X=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r);},ne=(e,t,r,s)=>(N(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);var A=(e,t,r)=>(N(e,t,"access private method"),r);var Ye=/(%?)(%([sdijo]))/g;function Je(e,t){switch(t){case"s":return e;case"d":case"i":return Number(e);case"j":return JSON.stringify(e);case"o":{if(typeof e=="string")return e;let r=JSON.stringify(e);return r==="{}"||r==="[]"||/^\[object .+?\]$/.test(r)?e:r}}}function W(e,...t){if(t.length===0)return e;let r=0,s=e.replace(Ye,(n,i,o,l)=>{let a=t[r],c=Je(a,l);return i?n:(r++,c)});return r<t.length&&(s+=` ${t.slice(r).join(" ")}`),s=s.replace(/%{2,2}/g,"%"),s}var ze=2;function Qe(e){if(!e.stack)return;let t=e.stack.split(`
`);t.splice(1,ze),e.stack=t.join(`
`);}var Ze=class extends Error{constructor(e,...t){super(e),this.message=e,this.name="Invariant Violation",this.message=W(e,...t),Qe(this);}},E=(e,t,...r)=>{if(!e)throw new Ze(t,...r)};E.as=(e,t,r,...s)=>{if(!t){let n=s.length===0?r:W(r,s),i;try{i=Reflect.construct(e,[n]);}catch{i=e(n);}throw i}};var et="[MSW]";function K(e,...t){let r=W(e,...t);return `${et} ${r}`}function tt(e,...t){console.warn(K(e,...t));}function rt(e,...t){console.error(K(e,...t));}var d={formatMessage:K,warn:tt,error:rt};var st=/[\/\\]msw[\/\\]src[\/\\](.+)/,nt=/(node_modules)?[\/\\]lib[\/\\](core|browser|node|native|iife)[\/\\]|^[^\/\\]*$/;function oe(e){let t=e.stack;if(!t)return;let s=t.split(`
`).slice(1).find(i=>!(st.test(i)||nt.test(i)));return s?s.replace(/\s*at [^()]*\(([^)]+)\)/,"$1").replace(/^@/,""):void 0}function ie(e){return e?typeof e[Symbol.iterator]=="function":!1}var O=class O{constructor(t){f(this,"info");f(this,"isUsed");f(this,"resolver");f(this,"resolverGenerator");f(this,"resolverGeneratorResult");f(this,"options");this.resolver=t.resolver,this.options=t.options;let r=oe(new Error);this.info={...t.info,callFrame:r},this.isUsed=!1;}async parse(t){return {}}async test(t){let r=await this.parse({request:t.request,resolutionContext:t.resolutionContext});return this.predicate({request:t.request,parsedResult:r,resolutionContext:t.resolutionContext})}extendResolverArgs(t){return {}}cloneRequestOrGetFromCache(t){let r=O.cache.get(t);if(typeof r<"u")return r;let s=t.clone();return O.cache.set(t,s),s}async run(t){if(this.isUsed&&this.options?.once)return null;let r=this.cloneRequestOrGetFromCache(t.request),s=await this.parse({request:t.request,resolutionContext:t.resolutionContext});if(!this.predicate({request:t.request,parsedResult:s,resolutionContext:t.resolutionContext})||this.isUsed&&this.options?.once)return null;this.isUsed=!0;let i=this.wrapResolver(this.resolver),o=this.extendResolverArgs({request:t.request,parsedResult:s}),a=await i({...o,requestId:t.requestId,request:t.request}).catch(u=>{if(u instanceof Response)return u;throw u});return this.createExecutionResult({request:r,requestId:t.requestId,response:a,parsedResult:s})}wrapResolver(t){return async r=>{let s=this.resolverGenerator||await t(r);if(ie(s)){this.isUsed=!1;let{value:n,done:i}=s[Symbol.iterator]().next(),o=await n;return i&&(this.isUsed=!0),!o&&i?(E(this.resolverGeneratorResult,"Failed to returned a previously stored generator response: the value is not a valid Response."),this.resolverGeneratorResult.clone()):(this.resolverGenerator||(this.resolverGenerator=s),o&&(this.resolverGeneratorResult=o?.clone()),o)}return s}}createExecutionResult(t){return {handler:this,request:t.request,requestId:t.requestId,response:t.response,parsedResult:t.parsedResult}}};f(O,"cache",new WeakMap);var U=O;var ae=async e=>{try{return {error:null,data:await e().catch(r=>{throw r})}}catch(t){return {error:t,data:null}}};var le=async({request:e,requestId:t,handlers:r,resolutionContext:s})=>{let n=null,i=null;for(let o of r)if(i=await o.run({request:e,requestId:t,resolutionContext:s}),i!==null&&(n=o),i?.response)break;return n?{handler:n,parsedResult:i?.parsedResult,response:i?.response}:null};function ce(e){if(typeof location>"u")return e.toString();let t=e instanceof URL?e:new URL(e);return t.origin===location.origin?t.pathname:t.origin+t.pathname}async function ue(e,t="warn"){let r=new URL(e.url),s=ce(r),n=`intercepted a request without a matching request handler:

  \u2022 ${e.method} ${s}

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/getting-started/mocks`;function i(o){switch(o){case"error":throw d.error("Error: %s",n),new Error(d.formatMessage('Cannot bypass a request when using the "error" strategy for the "onUnhandledRequest" option.'));case"warn":{d.warn("Warning: %s",n);break}case"bypass":break;default:throw new Error(d.formatMessage('Failed to react to an unhandled request: unknown strategy "%s". Please provide one of the supported strategies ("bypass", "warn", "error") or a custom callback function as the value of the "onUnhandledRequest" option.',o))}}if(typeof t=="function"){t(e,{warning:i.bind(null,"warn"),error:i.bind(null,"error")});return}r.protocol!=="file:"&&i(t);}var ot=Object.create,fe=Object.defineProperty,it=Object.getOwnPropertyDescriptor,ge=Object.getOwnPropertyNames,at=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,ct=(e,t)=>function(){return t||(0, e[ge(e)[0]])((t={exports:{}}).exports,t),t.exports},ut=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ge(t))!lt.call(e,n)&&n!==r&&fe(e,n,{get:()=>t[n],enumerable:!(s=it(t,n))||s.enumerable});return e},ht=(e,t,r)=>(r=e!=null?ot(at(e)):{},ut(t||!e||!e.__esModule?fe(r,"default",{value:e,enumerable:!0}):r,e)),dt=ct({"node_modules/set-cookie-parser/lib/set-cookie.js"(e,t){var r={decodeValues:!0,map:!1,silent:!1};function s(a){return typeof a=="string"&&!!a.trim()}function n(a,c){var u=a.split(";").filter(s),p=u.shift(),h=i(p),m=h.name,g=h.value;c=c?Object.assign({},r,c):r;try{g=c.decodeValues?decodeURIComponent(g):g;}catch(k){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+g+"'. Set options.decodeValues to false to disable this feature.",k);}var v={name:m,value:g};return u.forEach(function(k){var C=k.split("="),x=C.shift().trimLeft().toLowerCase(),I=C.join("=");x==="expires"?v.expires=new Date(I):x==="max-age"?v.maxAge=parseInt(I,10):x==="secure"?v.secure=!0:x==="httponly"?v.httpOnly=!0:x==="samesite"?v.sameSite=I:v[x]=I;}),v}function i(a){var c="",u="",p=a.split("=");return p.length>1?(c=p.shift(),u=p.join("=")):u=a,{name:c,value:u}}function o(a,c){if(c=c?Object.assign({},r,c):r,!a)return c.map?{}:[];if(a.headers)if(typeof a.headers.getSetCookie=="function")a=a.headers.getSetCookie();else if(a.headers["set-cookie"])a=a.headers["set-cookie"];else {var u=a.headers[Object.keys(a.headers).find(function(h){return h.toLowerCase()==="set-cookie"})];!u&&a.headers.cookie&&!c.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),a=u;}if(Array.isArray(a)||(a=[a]),c=c?Object.assign({},r,c):r,c.map){var p={};return a.filter(s).reduce(function(h,m){var g=n(m,c);return h[g.name]=g,h},p)}else return a.filter(s).map(function(h){return n(h,c)})}function l(a){if(Array.isArray(a))return a;if(typeof a!="string")return [];var c=[],u=0,p,h,m,g,v;function k(){for(;u<a.length&&/\s/.test(a.charAt(u));)u+=1;return u<a.length}function C(){return h=a.charAt(u),h!=="="&&h!==";"&&h!==","}for(;u<a.length;){for(p=u,v=!1;k();)if(h=a.charAt(u),h===","){for(m=u,u+=1,k(),g=u;u<a.length&&C();)u+=1;u<a.length&&a.charAt(u)==="="?(v=!0,u=g,c.push(a.substring(p,m)),p=u):u=m+1;}else u+=1;(!v||u>=a.length)&&c.push(a.substring(p,a.length));}return c}t.exports=o,t.exports.parse=o,t.exports.parseString=n,t.exports.splitCookiesString=l;}}),he=ht(dt()),L="MSW_COOKIE_STORE";function de(){try{if(localStorage==null)return !1;let e=L+"_test";return localStorage.setItem(e,"test"),localStorage.getItem(e),localStorage.removeItem(e),!0}catch{return !1}}function pe(e,t){try{return e[t],!0}catch{return !1}}var pt=class{constructor(){this.store=new Map;}add(e,t){if(pe(e,"credentials")&&e.credentials==="omit")return;let r=new URL(e.url),s=t.headers.get("set-cookie");if(!s)return;let n=Date.now(),i=(0, he.parse)(s).map(({maxAge:l,...a})=>({...a,expires:l===void 0?a.expires:new Date(n+l*1e3),maxAge:l})),o=this.store.get(r.origin)||new Map;i.forEach(l=>{this.store.set(r.origin,o.set(l.name,l));});}get(e){this.deleteExpiredCookies();let t=new URL(e.url),r=this.store.get(t.origin)||new Map;if(!pe(e,"credentials"))return r;switch(e.credentials){case"include":return typeof document>"u"||(0, he.parse)(document.cookie).forEach(n=>{r.set(n.name,n);}),r;case"same-origin":return r;default:return new Map}}getAll(){return this.deleteExpiredCookies(),this.store}deleteAll(e){let t=new URL(e.url);this.store.delete(t.origin);}clear(){this.store.clear();}hydrate(){if(!de())return;let e=localStorage.getItem(L);if(e)try{JSON.parse(e).forEach(([r,s])=>{this.store.set(r,new Map(s.map(([n,{expires:i,...o}])=>[n,i===void 0?o:{...o,expires:new Date(i)}])));});}catch(t){console.warn(`
[virtual-cookie] Failed to parse a stored cookie from the localStorage (key "${L}").

Stored value:
${localStorage.getItem(L)}

Thrown exception:
${t}

Invalid value has been removed from localStorage to prevent subsequent failed parsing attempts.`),localStorage.removeItem(L);}}persist(){if(!de())return;let e=Array.from(this.store.entries()).map(([t,r])=>[t,Array.from(r.entries())]);localStorage.setItem(L,JSON.stringify(e));}deleteExpiredCookies(){let e=Date.now();this.store.forEach((t,r)=>{t.forEach(({expires:s,name:n})=>{s!==void 0&&s.getTime()<=e&&t.delete(n);}),t.size===0&&this.store.delete(r);});}},V=new pt;function me(e,t){V.add({...e,url:e.url.toString()},t),V.persist();}async function j(e,t,r,s,n,i){if(n.emit("request:start",{request:e,requestId:t}),e.headers.get("x-msw-intention")==="bypass"){n.emit("request:end",{request:e,requestId:t}),i?.onPassthroughResponse?.(e);return}let o=await ae(()=>le({request:e,requestId:t,handlers:r,resolutionContext:i?.resolutionContext}));if(o.error)throw n.emit("unhandledException",{error:o.error,request:e,requestId:t}),o.error;if(!o.data){await ue(e,s.onUnhandledRequest),n.emit("request:unhandled",{request:e,requestId:t}),n.emit("request:end",{request:e,requestId:t}),i?.onPassthroughResponse?.(e);return}let{response:l}=o.data;if(!l){n.emit("request:end",{request:e,requestId:t}),i?.onPassthroughResponse?.(e);return}if(l.status===302&&l.headers.get("x-msw-intention")==="passthrough"){n.emit("request:end",{request:e,requestId:t}),i?.onPassthroughResponse?.(e);return}me(e,l),n.emit("request:match",{request:e,requestId:t});let a=o.data,c=i?.transformResponse?.(l)||l;return i?.onMockedResponse?.(c,a),n.emit("request:end",{request:e,requestId:t}),c}function ve(e){return {status:e.status,statusText:e.statusText,headers:Object.fromEntries(e.headers.entries())}}function Y(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function J(e,t){return Object.entries(t).reduce((r,[s,n])=>{let i=r[s];return Array.isArray(i)&&Array.isArray(n)?(r[s]=i.concat(n),r):Y(i)&&Y(n)?(r[s]=J(i,n),r):(r[s]=n,r)},Object.assign({},e))}var ft=class extends Error{constructor(e,t,r){super(`Possible EventEmitter memory leak detected. ${r} ${t.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=e,this.type=t,this.count=r,this.name="MaxListenersExceededWarning";}},ye=class{static listenerCount(e,t){return e.listenerCount(t)}constructor(){this.events=new Map,this.maxListeners=ye.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1;}_emitInternalEvent(e,t,r){this.emit(e,t,r);}_getListeners(e){return Array.prototype.concat.apply([],this.events.get(e))||[]}_removeListener(e,t){let r=e.indexOf(t);return r>-1&&e.splice(r,1),[]}_wrapOnceListener(e,t){let r=(...s)=>(this.removeListener(e,r),t.apply(this,s));return Object.defineProperty(r,"name",{value:t.name}),r}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(e,...t){let r=this._getListeners(e);return r.forEach(s=>{s.apply(this,t);}),r.length>0}addListener(e,t){this._emitInternalEvent("newListener",e,t);let r=this._getListeners(e).concat(t);if(this.events.set(e,r),this.maxListeners>0&&this.listenerCount(e)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;let s=new ft(this,e,this.listenerCount(e));console.warn(s);}return this}on(e,t){return this.addListener(e,t)}once(e,t){return this.addListener(e,this._wrapOnceListener(e,t))}prependListener(e,t){let r=this._getListeners(e);if(r.length>0){let s=[t].concat(r);this.events.set(e,s);}else this.events.set(e,r.concat(t));return this}prependOnceListener(e,t){return this.prependListener(e,this._wrapOnceListener(e,t))}removeListener(e,t){let r=this._getListeners(e);return r.length>0&&(this._removeListener(r,t),this.events.set(e,r),this._emitInternalEvent("removeListener",e,t)),this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return e?this.events.delete(e):this.events.clear(),this}listeners(e){return Array.from(this._getListeners(e))}listenerCount(e){return this._getListeners(e).length}rawListeners(e){return this.listeners(e)}},H=ye;H.defaultMaxListeners=10;function we(e,t){let r=e.emit;if(r._isPiped)return;let s=function(i,...o){return t.emit(i,...o),r.call(this,i,...o)};s._isPiped=!0,e.emit=s;}function be(e){let t=[...e];return Object.freeze(t),t}var D=class{constructor(){f(this,"subscriptions",[]);}async dispose(){await Promise.all(this.subscriptions.map(t=>t()));}};var z=class{constructor(t){f(this,"handlers");this.initialHandlers=t,this.handlers=[...t];}prepend(t){this.handlers.unshift(...t);}reset(t){this.handlers=t.length>0?[...t]:[...this.initialHandlers];}currentHandlers(){return this.handlers}},B=class extends D{constructor(...r){super();f(this,"handlersController");f(this,"emitter");f(this,"publicEmitter");f(this,"events");E(this.validateHandlers(r),d.formatMessage("Failed to apply given request handlers: invalid input. Did you forget to spread the request handlers Array?")),this.handlersController=new z(r),this.emitter=new H,this.publicEmitter=new H,we(this.emitter,this.publicEmitter),this.events=this.createLifeCycleEvents(),this.subscriptions.push(()=>{this.emitter.removeAllListeners(),this.publicEmitter.removeAllListeners();});}validateHandlers(r){return r.every(s=>!Array.isArray(s))}use(...r){E(this.validateHandlers(r),d.formatMessage('Failed to call "use()" with the given request handlers: invalid input. Did you forget to spread the array of request handlers?')),this.handlersController.prepend(r);}restoreHandlers(){this.handlersController.currentHandlers().forEach(r=>{r.isUsed=!1;});}resetHandlers(...r){this.handlersController.reset(r);}listHandlers(){return be(this.handlersController.currentHandlers())}createLifeCycleEvents(){return {on:(...r)=>this.publicEmitter.on(...r),removeListener:(...r)=>this.publicEmitter.removeListener(...r),removeAllListeners:(...r)=>this.publicEmitter.removeAllListeners(...r)}}};var gt=/(%?)(%([sdijo]))/g;function mt(e,t){switch(t){case"s":return e;case"d":case"i":return Number(e);case"j":return JSON.stringify(e);case"o":{if(typeof e=="string")return e;let r=JSON.stringify(e);return r==="{}"||r==="[]"||/^\[object .+?\]$/.test(r)?e:r}}}function M(e,...t){if(t.length===0)return e;let r=0,s=e.replace(gt,(n,i,o,l)=>{let a=t[r],c=mt(a,l);return i?n:(r++,c)});return r<t.length&&(s+=` ${t.slice(r).join(" ")}`),s=s.replace(/%{2,2}/g,"%"),s}var vt=2;function yt(e){if(!e.stack)return;let t=e.stack.split(`
`);t.splice(1,vt),e.stack=t.join(`
`);}var wt=class extends Error{constructor(e,...t){super(e),this.message=e,this.name="Invariant Violation",this.message=M(e,...t),yt(this);}},R=(e,t,...r)=>{if(!e)throw new wt(t,...r)};R.as=(e,t,r,...s)=>{if(!t){let n=s.length===0?r:M(r,s),i;try{i=Reflect.construct(e,[n]);}catch{i=e(n);}throw i}};function re(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return !0;if(typeof process<"u"){let e=process.type;return e==="renderer"||e==="worker"?!1:!!(process.versions&&process.versions.node)}return !1}var $=async e=>{try{return {error:null,data:await e().catch(r=>{throw r})}}catch(t){return {error:t,data:null}}};function bt(e){return new URL(e,location.href).href}function Q(e,t,r){return [e.active,e.installing,e.waiting].filter(o=>o!=null).find(o=>r(o.scriptURL,t))||null}var Rt=async(e,t={},r)=>{let s=bt(e),n=await navigator.serviceWorker.getRegistrations().then(l=>l.filter(a=>Q(a,s,r)));!navigator.serviceWorker.controller&&n.length>0&&location.reload();let[i]=n;if(i)return i.update().then(()=>[Q(i,s,r),i]);let o=await $(async()=>{let l=await navigator.serviceWorker.register(e,t);return [Q(l,s,r),l]});if(o.error){if(o.error.message.includes("(404)")){let a=new URL(t?.scope||"/",location.href);throw new Error(d.formatMessage(`Failed to register a Service Worker for scope ('${a.href}') with script ('${s}'): Service Worker script does not exist at the given path.

Did you forget to run "npx msw init <PUBLIC_DIR>"?

Learn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`))}throw new Error(d.formatMessage(`Failed to register the Service Worker:

%s`,o.error.message))}return o.data};function Pe(e={}){if(e.quiet)return;let t=e.message||"Mocking enabled.";console.groupCollapsed(`%c${d.formatMessage(t)}`,"color:orangered;font-weight:bold;"),console.log("%cDocumentation: %chttps://mswjs.io/docs","font-weight:bold","font-weight:normal"),console.log("Found an issue? https://github.com/mswjs/msw/issues"),e.workerUrl&&console.log("Worker script URL:",e.workerUrl),e.workerScope&&console.log("Worker scope:",e.workerScope),console.groupEnd();}async function kt(e,t){if(e.workerChannel.send("MOCK_ACTIVATE"),await e.events.once("MOCKING_ENABLED"),e.isMockingEnabled){d.warn('Found a redundant "worker.start()" call. Note that starting the worker while mocking is already enabled will have no effect. Consider removing this "worker.start()" call.');return}e.isMockingEnabled=!0,Pe({quiet:t.quiet,workerScope:e.registration?.scope,workerUrl:e.worker?.scriptURL});}var xt=class{constructor(e){this.port=e;}postMessage(e,...t){let[r,s]=t;this.port.postMessage({type:e,data:r},{transfer:s});}};function Et(e){if(!["HEAD","GET"].includes(e.method))return e.body}function Lt(e){return new Request(e.url,{...e,body:Et(e)})}var qt=(e,t)=>async(r,s)=>{let n=new xt(r.ports[0]),i=s.payload.id,o=Lt(s.payload),l=o.clone(),a=o.clone();U.cache.set(o,a),e.requests.set(i,a);try{await j(o,i,e.getRequestHandlers(),t,e.emitter,{onPassthroughResponse(){n.postMessage("NOT_FOUND");},async onMockedResponse(c,{handler:u,parsedResult:p}){let h=c.clone(),m=c.clone(),g=ve(c);if(e.supports.readableStreamTransfer){let v=c.body;n.postMessage("MOCK_RESPONSE",{...g,body:v},v?[v]:void 0);}else {let v=c.body===null?null:await h.arrayBuffer();n.postMessage("MOCK_RESPONSE",{...g,body:v});}t.quiet||e.emitter.once("response:mocked",()=>{u.log({request:l,response:m,parsedResult:p});});}});}catch(c){c instanceof Error&&(d.error(`Uncaught exception in the request handler for "%s %s":

%s

This exception has been gracefully handled as a 500 response, however, it's strongly recommended to resolve this error, as it indicates a mistake in your code. If you wish to mock an error response, please see this guide: https://mswjs.io/docs/recipes/mocking-error-responses`,o.method,o.url,c.stack??c),n.postMessage("MOCK_RESPONSE",{status:500,statusText:"Request Handler Error",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.name,message:c.message,stack:c.stack})}));}};async function St(e,t){e.workerChannel.send("INTEGRITY_CHECK_REQUEST");let{payload:r}=await e.events.once("INTEGRITY_CHECK_RESPONSE");if(r!=="223d191a56023cd36aa88c802961b911")throw new Error(`Currently active Service Worker (${r}) is behind the latest published one (223d191a56023cd36aa88c802961b911).`);return t}var _t=new TextEncoder;function Pt(e){return _t.encode(e)}function Ot(e,t){return new TextDecoder(t).decode(e)}function Tt(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}var Mt=new Set([101,103,204,205,304]);function Oe(e){return Mt.has(e)}var Ct=Object.defineProperty,It=(e,t)=>{for(var r in t)Ct(e,r,{get:t[r],enumerable:!0});},Z={};It(Z,{blue:()=>Wt,gray:()=>ee,green:()=>jt,red:()=>Ut,yellow:()=>At});function At(e){return `\x1B[33m${e}\x1B[0m`}function Wt(e){return `\x1B[34m${e}\x1B[0m`}function ee(e){return `\x1B[90m${e}\x1B[0m`}function Ut(e){return `\x1B[31m${e}\x1B[0m`}function jt(e){return `\x1B[32m${e}\x1B[0m`}var G=re(),Te=class{constructor(e){f(this,"prefix");this.name=e,this.prefix=`[${this.name}]`;let t=Re("DEBUG"),r=Re("LOG_LEVEL");t==="1"||t==="true"||typeof t<"u"&&this.name.startsWith(t)?(this.debug=T(r,"debug")?y:this.debug,this.info=T(r,"info")?y:this.info,this.success=T(r,"success")?y:this.success,this.warning=T(r,"warning")?y:this.warning,this.error=T(r,"error")?y:this.error):(this.info=y,this.success=y,this.warning=y,this.error=y,this.only=y);}extend(e){return new Te(`${this.name}:${e}`)}debug(e,...t){this.logEntry({level:"debug",message:ee(e),positionals:t,prefix:this.prefix,colors:{prefix:"gray"}});}info(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:this.prefix,colors:{prefix:"blue"}});let r=new Ht;return (s,...n)=>{r.measure(),this.logEntry({level:"info",message:`${s} ${ee(`${r.deltaTime}ms`)}`,positionals:n,prefix:this.prefix,colors:{prefix:"blue"}});}}success(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:`\u2714 ${this.prefix}`,colors:{timestamp:"green",prefix:"green"}});}warning(e,...t){this.logEntry({level:"warning",message:e,positionals:t,prefix:`\u26A0 ${this.prefix}`,colors:{timestamp:"yellow",prefix:"yellow"}});}error(e,...t){this.logEntry({level:"error",message:e,positionals:t,prefix:`\u2716 ${this.prefix}`,colors:{timestamp:"red",prefix:"red"}});}only(e){e();}createEntry(e,t){return {timestamp:new Date,level:e,message:t}}logEntry(e){let{level:t,message:r,prefix:s,colors:n,positionals:i=[]}=e,o=this.createEntry(t,r),l=n?.timestamp||"gray",a=n?.prefix||"gray",c={timestamp:Z[l],prefix:Z[a]};this.getWriter(t)([c.timestamp(this.formatTimestamp(o.timestamp))].concat(s!=null?c.prefix(s):[]).concat(ke(r)).join(" "),...i.map(ke));}formatTimestamp(e){return `${e.toLocaleTimeString("en-GB")}:${e.getMilliseconds()}`}getWriter(e){switch(e){case"debug":case"success":case"info":return Dt;case"warning":return Bt;case"error":return Ft}}},Ht=class{constructor(){f(this,"startTime");f(this,"endTime");f(this,"deltaTime");this.startTime=performance.now();}measure(){this.endTime=performance.now();let e=this.endTime-this.startTime;this.deltaTime=e.toFixed(2);}},y=()=>{};function Dt(e,...t){if(G){process.stdout.write(M(e,...t)+`
`);return}console.log(e,...t);}function Bt(e,...t){if(G){process.stderr.write(M(e,...t)+`
`);return}console.warn(e,...t);}function Ft(e,...t){if(G){process.stderr.write(M(e,...t)+`
`);return}console.error(e,...t);}function Re(e){return G?process.env[e]:globalThis[e]?.toString()}function T(e,t){return e!==void 0&&e!==t}function ke(e){return typeof e>"u"?"undefined":e===null?"null":typeof e=="string"?e:typeof e=="object"?JSON.stringify(e):e.toString()}var $t=class extends Error{constructor(e,t,r){super(`Possible EventEmitter memory leak detected. ${r} ${t.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=e,this.type=t,this.count=r,this.name="MaxListenersExceededWarning";}},Me=class{static listenerCount(e,t){return e.listenerCount(t)}constructor(){this.events=new Map,this.maxListeners=Me.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1;}_emitInternalEvent(e,t,r){this.emit(e,t,r);}_getListeners(e){return Array.prototype.concat.apply([],this.events.get(e))||[]}_removeListener(e,t){let r=e.indexOf(t);return r>-1&&e.splice(r,1),[]}_wrapOnceListener(e,t){let r=(...s)=>(this.removeListener(e,r),t.apply(this,s));return Object.defineProperty(r,"name",{value:t.name}),r}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(e,...t){let r=this._getListeners(e);return r.forEach(s=>{s.apply(this,t);}),r.length>0}addListener(e,t){this._emitInternalEvent("newListener",e,t);let r=this._getListeners(e).concat(t);if(this.events.set(e,r),this.maxListeners>0&&this.listenerCount(e)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;let s=new $t(this,e,this.listenerCount(e));console.warn(s);}return this}on(e,t){return this.addListener(e,t)}once(e,t){return this.addListener(e,this._wrapOnceListener(e,t))}prependListener(e,t){let r=this._getListeners(e);if(r.length>0){let s=[t].concat(r);this.events.set(e,s);}else this.events.set(e,r.concat(t));return this}prependOnceListener(e,t){return this.prependListener(e,this._wrapOnceListener(e,t))}removeListener(e,t){let r=this._getListeners(e);return r.length>0&&(this._removeListener(r,t),this.events.set(e,r),this._emitInternalEvent("removeListener",e,t)),this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return e?this.events.delete(e):this.events.clear(),this}listeners(e){return Array.from(this._getListeners(e))}listenerCount(e){return this._getListeners(e).length}rawListeners(e){return this.listeners(e)}},Ce=Me;Ce.defaultMaxListeners=10;var S=Symbol("isPatchedModule");function xe(e){return globalThis[e]||void 0}function Gt(e,t){globalThis[e]=t;}function Nt(e){delete globalThis[e];}var se=class{constructor(e){this.symbol=e,this.readyState="INACTIVE",this.emitter=new Ce,this.subscriptions=[],this.logger=new Te(e.description),this.emitter.setMaxListeners(0),this.logger.info("constructing the interceptor...");}checkEnvironment(){return !0}apply(){let e=this.logger.extend("apply");if(e.info("applying the interceptor..."),this.readyState==="APPLIED"){e.info("intercepted already applied!");return}if(!this.checkEnvironment()){e.info("the interceptor cannot be applied in this environment!");return}this.readyState="APPLYING";let r=this.getInstance();if(r){e.info("found a running instance, reusing..."),this.on=(s,n)=>(e.info('proxying the "%s" listener',s),r.emitter.addListener(s,n),this.subscriptions.push(()=>{r.emitter.removeListener(s,n),e.info('removed proxied "%s" listener!',s);}),this),this.readyState="APPLIED";return}e.info("no running instance found, setting up a new instance..."),this.setup(),this.setInstance(),this.readyState="APPLIED";}setup(){}on(e,t){let r=this.logger.extend("on");return this.readyState==="DISPOSING"||this.readyState==="DISPOSED"?(r.info("cannot listen to events, already disposed!"),this):(r.info('adding "%s" event listener:',e,t),this.emitter.on(e,t),this)}once(e,t){return this.emitter.once(e,t),this}off(e,t){return this.emitter.off(e,t),this}removeAllListeners(e){return this.emitter.removeAllListeners(e),this}dispose(){let e=this.logger.extend("dispose");if(this.readyState==="DISPOSED"){e.info("cannot dispose, already disposed!");return}if(e.info("disposing the interceptor..."),this.readyState="DISPOSING",!this.getInstance()){e.info("no interceptors running, skipping dispose...");return}if(this.clearInstance(),e.info("global symbol deleted:",xe(this.symbol)),this.subscriptions.length>0){e.info("disposing of %d subscriptions...",this.subscriptions.length);for(let t of this.subscriptions)t();this.subscriptions=[],e.info("disposed of all subscriptions!",this.subscriptions.length);}this.emitter.removeAllListeners(),e.info("destroyed the listener!"),this.readyState="DISPOSED";}getInstance(){var e;let t=xe(this.symbol);return this.logger.info("retrieved global instance:",(e=t?.constructor)==null?void 0:e.name),t}setInstance(){Gt(this.symbol,this),this.logger.info("set global instance!",this.symbol.description);}clearInstance(){Nt(this.symbol),this.logger.info("cleared global instance!",this.symbol.description);}},te=class extends se{constructor(e){te.symbol=Symbol(e.name),super(te.symbol),this.interceptors=e.interceptors;}setup(){let e=this.logger.extend("setup");e.info("applying all %d interceptors...",this.interceptors.length);for(let t of this.interceptors)e.info('applying "%s" interceptor...',t.constructor.name),t.apply(),e.info("adding interceptor dispose subscription"),this.subscriptions.push(()=>t.dispose());}on(e,t){for(let r of this.interceptors)r.on(e,t);return this}once(e,t){for(let r of this.interceptors)r.once(e,t);return this}off(e,t){for(let r of this.interceptors)r.off(e,t);return this}removeAllListeners(e){for(let t of this.interceptors)t.removeAllListeners(e);return this}};function Xt(e){return (t,r)=>{let{payload:s}=r,{requestId:n}=s,i=e.requests.get(n);if(e.requests.delete(n),s.type?.includes("opaque"))return;let o=s.status===0?Response.error():new Response(Oe(s.status)?null:s.body,s);o.url||Object.defineProperty(o,"url",{value:i.url,enumerable:!0,writable:!1}),e.emitter.emit(s.isMockedResponse?"response:mocked":"response:bypass",{response:o,request:i,requestId:s.requestId});}}function Kt(e,t){!t?.quiet&&!location.href.startsWith(e.scope)&&d.warn(`Cannot intercept requests on this page because it's outside of the worker's scope ("${e.scope}"). If you wish to mock API requests on this page, you must resolve this scope issue.

- (Recommended) Register the worker at the root level ("/") of your application.
- Set the "Service-Worker-Allowed" response header to allow out-of-scope workers.`);}var Vt=e=>function(r,s){return (async()=>{e.events.removeAllListeners(),e.workerChannel.on("REQUEST",qt(e,r)),e.workerChannel.on("RESPONSE",Xt(e));let o=await Rt(r.serviceWorker.url,r.serviceWorker.options,r.findWorker),[l,a]=o;if(!l){let u=s?.findWorker?d.formatMessage(`Failed to locate the Service Worker registration using a custom "findWorker" predicate.

Please ensure that the custom predicate properly locates the Service Worker registration at "%s".
More details: https://mswjs.io/docs/api/setup-worker/start#findworker
`,r.serviceWorker.url):d.formatMessage(`Failed to locate the Service Worker registration.

This most likely means that the worker script URL "%s" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.

Please consider using a custom "serviceWorker.url" option to point to the actual worker script location, or a custom "findWorker" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start`,r.serviceWorker.url,location.host);throw new Error(u)}e.worker=l,e.registration=a,e.events.addListener(window,"beforeunload",()=>{l.state!=="redundant"&&e.workerChannel.send("CLIENT_CLOSED"),window.clearInterval(e.keepAliveInterval);});let c=await $(()=>St(e,l));return c.error&&d.error(`Detected outdated Service Worker: ${c.error.message}

The mocking is still enabled, but it's highly recommended that you update your Service Worker by running:

$ npx msw init <PUBLIC_DIR>

This is necessary to ensure that the Service Worker is in sync with the library to guarantee its stability.
If this message still persists after updating, please report an issue: https://github.com/open-draft/msw/issues      `),e.keepAliveInterval=window.setInterval(()=>e.workerChannel.send("KEEPALIVE_REQUEST"),5e3),Kt(a,e.startOptions),a})().then(async o=>{let l=o.installing||o.waiting;return l&&await new Promise(a=>{l.addEventListener("statechange",()=>{if(l.state==="activated")return a()});}),await kt(e,r).catch(a=>{throw new Error(`Failed to enable mocking: ${a?.message}`)}),o})};function Ie(e={}){e.quiet||console.log(`%c${d.formatMessage("Mocking disabled.")}`,"color:orangered;font-weight:bold;");}var Yt=e=>function(){if(!e.isMockingEnabled){d.warn('Found a redundant "worker.stop()" call. Note that stopping the worker while mocking already stopped has no effect. Consider removing this "worker.stop()" call.');return}e.workerChannel.send("MOCK_DEACTIVATE"),e.isMockingEnabled=!1,window.clearInterval(e.keepAliveInterval),Ie({quiet:e.startOptions?.quiet});},Jt={serviceWorker:{url:"/mockServiceWorker.js",options:null},quiet:!1,waitUntilReady:!0,onUnhandledRequest:"warn",findWorker(e,t){return e===t}};function zt(){let e=(t,r)=>{e.state="pending",e.resolve=s=>{if(e.state!=="pending")return;e.result=s;let n=i=>(e.state="fulfilled",i);return t(s instanceof Promise?s:Promise.resolve(s).then(n))},e.reject=s=>{if(e.state==="pending")return queueMicrotask(()=>{e.state="rejected";}),r(e.rejectionReason=s)};};return e}var b,_,F,_e,Ae=(_e=class extends Promise{constructor(t=null){let r=zt();super((s,n)=>{r(s,n),t?.(r.resolve,r.reject);});X(this,_);X(this,b,void 0);f(this,"resolve");f(this,"reject");ne(this,b,r),this.resolve=P(this,b).resolve,this.reject=P(this,b).reject;}get state(){return P(this,b).state}get rejectionReason(){return P(this,b).rejectionReason}then(t,r){return A(this,_,F).call(this,super.then(t,r))}catch(t){return A(this,_,F).call(this,super.catch(t))}finally(t){return A(this,_,F).call(this,super.finally(t))}},b=new WeakMap,_=new WeakSet,F=function(t){return Object.defineProperties(t,{resolve:{configurable:!0,value:this.resolve},reject:{configurable:!0,value:this.reject}})},_e);function We(){return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return (e=="x"?t:t&3|8).toString(16)})}var Qt=class{constructor(e){this.request=e,this.responsePromise=new Ae;}respondWith(e){R(this.responsePromise.state==="pending",'Failed to respond to "%s %s" request: the "request" event has already been responded to.',this.request.method,this.request.url),this.responsePromise.resolve(e);}};function Ue(e){let t=new Qt(e);return Reflect.set(e,"respondWith",t.respondWith.bind(t)),{interactiveRequest:e,requestController:t}}async function je(e,t,...r){let s=e.listeners(t);if(s.length!==0)for(let n of s)await n.apply(e,r);}function Zt(e,t){try{return e[t],!0}catch{return !1}}function er(e){try{return new URL(e),!0}catch{return !1}}var He=class extends se{constructor(){super(He.symbol);}checkEnvironment(){return typeof globalThis<"u"&&typeof globalThis.fetch<"u"}setup(){let e=globalThis.fetch;R(!e[S],'Failed to patch the "fetch" module: already patched.'),globalThis.fetch=async(t,r)=>{var s;let n=We(),i=typeof t=="string"&&typeof location<"u"&&!er(t)?new URL(t,location.origin):t,o=new Request(i,r);this.logger.info("[%s] %s",o.method,o.url);let{interactiveRequest:l,requestController:a}=Ue(o);this.logger.info('emitting the "request" event for %d listener(s)...',this.emitter.listenerCount("request")),this.emitter.once("request",({requestId:m})=>{m===n&&a.responsePromise.state==="pending"&&a.responsePromise.resolve(void 0);}),this.logger.info("awaiting for the mocked response...");let c=l.signal,u=new Ae;c&&c.addEventListener("abort",()=>{u.reject(c.reason);},{once:!0});let p=await $(async()=>{let m=je(this.emitter,"request",{request:l,requestId:n});await Promise.race([u,m,a.responsePromise]),this.logger.info("all request listeners have been resolved!");let g=await a.responsePromise;return this.logger.info("event.respondWith called with:",g),g});if(u.state==="rejected")return Promise.reject(u.rejectionReason);if(p.error)return Promise.reject(Ee(p.error));let h=p.data;if(h&&!((s=o.signal)!=null&&s.aborted)){if(this.logger.info("received mocked response:",h),Zt(h,"type")&&h.type==="error")return this.logger.info("received a network error response, rejecting the request promise..."),Promise.reject(Ee(h));let m=h.clone();return this.emitter.emit("response",{response:m,isMockedResponse:!0,request:l,requestId:n}),Object.defineProperty(h,"url",{writable:!1,enumerable:!0,configurable:!1,value:o.url}),h}return this.logger.info("no mocked response received!"),e(o).then(m=>{let g=m.clone();return this.logger.info("original fetch performed",g),this.emitter.emit("response",{response:g,isMockedResponse:!1,request:l,requestId:n}),m})},Object.defineProperty(globalThis.fetch,S,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.fetch,S,{value:void 0}),globalThis.fetch=e,this.logger.info('restored native "globalThis.fetch"!',globalThis.fetch.name);});}},De=He;De.symbol=Symbol("fetch");function Ee(e){return Object.assign(new TypeError("Failed to fetch"),{cause:e})}function tr(e,t){let r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r}var Be=class{constructor(e,t){this.AT_TARGET=0,this.BUBBLING_PHASE=0,this.CAPTURING_PHASE=0,this.NONE=0,this.type="",this.srcElement=null,this.currentTarget=null,this.eventPhase=0,this.isTrusted=!0,this.composed=!1,this.cancelable=!0,this.defaultPrevented=!1,this.bubbles=!0,this.lengthComputable=!0,this.loaded=0,this.total=0,this.cancelBubble=!1,this.returnValue=!0,this.type=e,this.target=t?.target||null,this.currentTarget=t?.currentTarget||null,this.timeStamp=Date.now();}composedPath(){return []}initEvent(e,t,r){this.type=e,this.bubbles=!!t,this.cancelable=!!r;}preventDefault(){this.defaultPrevented=!0;}stopPropagation(){}stopImmediatePropagation(){}},rr=class extends Be{constructor(e,t){super(e),this.lengthComputable=t?.lengthComputable||!1,this.composed=t?.composed||!1,this.loaded=t?.loaded||0,this.total=t?.total||0;}},sr=typeof ProgressEvent<"u";function nr(e,t,r){let s=["error","progress","loadstart","loadend","load","timeout","abort"],n=sr?ProgressEvent:rr;return s.includes(t)?new n(t,{lengthComputable:!0,loaded:r?.loaded||0,total:r?.total||0}):new Be(t,{target:e,currentTarget:e})}function Fe(e,t){if(!(t in e))return null;if(Object.prototype.hasOwnProperty.call(e,t))return e;let s=Reflect.getPrototypeOf(e);return s?Fe(s,t):null}function Le(e,t){return new Proxy(e,or(t))}function or(e){let{constructorCall:t,methodCall:r,getProperty:s,setProperty:n}=e,i={};return typeof t<"u"&&(i.construct=function(o,l,a){let c=Reflect.construct.bind(null,o,l,a);return t.call(a,l,c)}),i.set=function(o,l,a){let c=()=>{let u=Fe(o,l)||o,p=Reflect.getOwnPropertyDescriptor(u,l);return typeof p?.set<"u"?(p.set.apply(o,[a]),!0):Reflect.defineProperty(u,l,{writable:!0,enumerable:!0,configurable:!0,value:a})};return typeof n<"u"?n.call(o,[l,a],c):c()},i.get=function(o,l,a){let c=()=>o[l],u=typeof s<"u"?s.call(o,[l,a],c):c();return typeof u=="function"?(...p)=>{let h=u.bind(o,...p);return typeof r<"u"?r.call(o,[l,p],h):h()}:u},i}function ir(e){return ["application/xhtml+xml","application/xml","image/svg+xml","text/html","text/xml"].some(r=>e.startsWith(r))}function ar(e){try{return JSON.parse(e)}catch{return null}}function lr(e,t){let r=Oe(e.status)?null:t;return new Response(r,{status:e.status,statusText:e.statusText,headers:cr(e.getAllResponseHeaders())})}function cr(e){let t=new Headers,r=e.split(/[\r\n]+/);for(let s of r){if(s.trim()==="")continue;let[n,...i]=s.split(": "),o=i.join(": ");t.append(n,o);}return t}var qe=Symbol("isMockedResponse"),ur=re(),hr=class{constructor(e,t){this.initialRequest=e,this.logger=t,this.method="GET",this.url=null,this.events=new Map,this.requestId=We(),this.requestHeaders=new Headers,this.responseBuffer=new Uint8Array,this.request=Le(e,{setProperty:([r,s],n)=>{switch(r){case"ontimeout":{let i=r.slice(2);return this.request.addEventListener(i,s),n()}default:return n()}},methodCall:([r,s],n)=>{var i;switch(r){case"open":{let[o,l]=s;return typeof l>"u"?(this.method="GET",this.url=Se(o)):(this.method=o,this.url=Se(l)),this.logger=this.logger.extend(`${this.method} ${this.url.href}`),this.logger.info("open",this.method,this.url.href),n()}case"addEventListener":{let[o,l]=s;return this.registerEvent(o,l),this.logger.info("addEventListener",o,l),n()}case"setRequestHeader":{let[o,l]=s;return this.requestHeaders.set(o,l),this.logger.info("setRequestHeader",o,l),n()}case"send":{let[o]=s;o!=null&&(this.requestBody=typeof o=="string"?Pt(o):o),this.request.addEventListener("load",()=>{if(typeof this.onResponse<"u"){let c=lr(this.request,this.request.response);this.onResponse.call(this,{response:c,isMockedResponse:qe in this.request,request:l,requestId:this.requestId});}});let l=this.toFetchApiRequest();(((i=this.onRequest)==null?void 0:i.call(this,{request:l,requestId:this.requestId}))||Promise.resolve()).finally(()=>{if(this.request.readyState<this.request.LOADING)return this.logger.info("request callback settled but request has not been handled (readystate %d), performing as-is...",this.request.readyState),ur&&this.request.setRequestHeader("X-Request-Id",this.requestId),n()});break}default:return n()}}});}registerEvent(e,t){let s=(this.events.get(e)||[]).concat(t);this.events.set(e,s),this.logger.info('registered event "%s"',e,t);}respondWith(e){this.logger.info("responding with a mocked response: %d %s",e.status,e.statusText),q(this.request,qe,!0),q(this.request,"status",e.status),q(this.request,"statusText",e.statusText),q(this.request,"responseURL",this.url.href),this.request.getResponseHeader=new Proxy(this.request.getResponseHeader,{apply:(s,n,i)=>{if(this.logger.info("getResponseHeader",i[0]),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning null"),null;let o=e.headers.get(i[0]);return this.logger.info('resolved response header "%s" to',i[0],o),o}}),this.request.getAllResponseHeaders=new Proxy(this.request.getAllResponseHeaders,{apply:()=>{if(this.logger.info("getAllResponseHeaders"),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning empty string"),"";let n=Array.from(e.headers.entries()).map(([i,o])=>`${i}: ${o}`).join(`\r
`);return this.logger.info("resolved all response headers to",n),n}}),Object.defineProperties(this.request,{response:{enumerable:!0,configurable:!1,get:()=>this.response},responseText:{enumerable:!0,configurable:!1,get:()=>this.responseText},responseXML:{enumerable:!0,configurable:!1,get:()=>this.responseXML}});let t=e.headers.has("Content-Length")?Number(e.headers.get("Content-Length")):void 0;this.logger.info("calculated response body length",t),this.trigger("loadstart",{loaded:0,total:t}),this.setReadyState(this.request.HEADERS_RECEIVED),this.setReadyState(this.request.LOADING);let r=()=>{this.logger.info("finalizing the mocked response..."),this.setReadyState(this.request.DONE),this.trigger("load",{loaded:this.responseBuffer.byteLength,total:t}),this.trigger("loadend",{loaded:this.responseBuffer.byteLength,total:t});};if(e.body){this.logger.info("mocked response has body, streaming...");let s=e.body.getReader(),n=async()=>{let{value:i,done:o}=await s.read();if(o){this.logger.info("response body stream done!"),r();return}i&&(this.logger.info("read response body chunk:",i),this.responseBuffer=tr(this.responseBuffer,i),this.trigger("progress",{loaded:this.responseBuffer.byteLength,total:t})),n();};n();}else r();}responseBufferToText(){return Ot(this.responseBuffer)}get response(){if(this.logger.info("getResponse (responseType: %s)",this.request.responseType),this.request.readyState!==this.request.DONE)return null;switch(this.request.responseType){case"json":{let e=ar(this.responseBufferToText());return this.logger.info("resolved response JSON",e),e}case"arraybuffer":{let e=Tt(this.responseBuffer);return this.logger.info("resolved response ArrayBuffer",e),e}case"blob":{let e=this.request.getResponseHeader("Content-Type")||"text/plain",t=new Blob([this.responseBufferToText()],{type:e});return this.logger.info("resolved response Blob (mime type: %s)",t,e),t}default:{let e=this.responseBufferToText();return this.logger.info('resolving "%s" response type as text',this.request.responseType,e),e}}}get responseText(){if(R(this.request.responseType===""||this.request.responseType==="text","InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.LOADING&&this.request.readyState!==this.request.DONE)return "";let e=this.responseBufferToText();return this.logger.info('getResponseText: "%s"',e),e}get responseXML(){if(R(this.request.responseType===""||this.request.responseType==="document","InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.DONE)return null;let e=this.request.getResponseHeader("Content-Type")||"";return typeof DOMParser>"u"?(console.warn("Cannot retrieve XMLHttpRequest response body as XML: DOMParser is not defined. You are likely using an environment that is not browser or does not polyfill browser globals correctly."),null):ir(e)?new DOMParser().parseFromString(this.responseBufferToText(),e):null}errorWith(e){this.logger.info("responding with an error"),this.setReadyState(this.request.DONE),this.trigger("error"),this.trigger("loadend");}setReadyState(e){if(this.logger.info("setReadyState: %d -> %d",this.request.readyState,e),this.request.readyState===e){this.logger.info("ready state identical, skipping transition...");return}q(this.request,"readyState",e),this.logger.info("set readyState to: %d",e),e!==this.request.UNSENT&&(this.logger.info('triggerring "readystatechange" event...'),this.trigger("readystatechange"));}trigger(e,t){let r=this.request[`on${e}`],s=nr(this.request,e,t);this.logger.info('trigger "%s"',e,t||""),typeof r=="function"&&(this.logger.info('found a direct "%s" callback, calling...',e),r.call(this.request,s));for(let[n,i]of this.events)n===e&&(this.logger.info('found %d listener(s) for "%s" event, calling...',i.length,e),i.forEach(o=>o.call(this.request,s)));}toFetchApiRequest(){this.logger.info("converting request to a Fetch API Request...");let e=new Request(this.url.href,{method:this.method,headers:this.requestHeaders,credentials:this.request.withCredentials?"include":"same-origin",body:["GET","HEAD"].includes(this.method)?null:this.requestBody}),t=Le(e.headers,{methodCall:([r,s],n)=>{switch(r){case"append":case"set":{let[i,o]=s;this.request.setRequestHeader(i,o);break}case"delete":{let[i]=s;console.warn(`XMLHttpRequest: Cannot remove a "${i}" header from the Fetch API representation of the "${e.method} ${e.url}" request. XMLHttpRequest headers cannot be removed.`);break}}return n()}});return q(e,"headers",t),this.logger.info("converted request to a Fetch API Request!",e),e}};function Se(e){return typeof location>"u"?new URL(e):new URL(e.toString(),location.href)}function q(e,t,r){Reflect.defineProperty(e,t,{writable:!0,enumerable:!0,value:r});}function dr({emitter:e,logger:t}){return new Proxy(globalThis.XMLHttpRequest,{construct(s,n,i){t.info("constructed new XMLHttpRequest");let o=Reflect.construct(s,n,i),l=Object.getOwnPropertyDescriptors(s.prototype);for(let c in l)Reflect.defineProperty(o,c,l[c]);let a=new hr(o,t);return a.onRequest=async function({request:c,requestId:u}){let{interactiveRequest:p,requestController:h}=Ue(c);this.logger.info("awaiting mocked response..."),e.once("request",({requestId:v})=>{v===u&&h.responsePromise.state==="pending"&&h.respondWith(void 0);});let m=await $(async()=>{this.logger.info('emitting the "request" event for %s listener(s)...',e.listenerCount("request")),await je(e,"request",{request:p,requestId:u}),this.logger.info('all "request" listeners settled!');let v=await h.responsePromise;return this.logger.info("event.respondWith called with:",v),v});if(m.error){this.logger.info("request listener threw an exception, aborting request...",m.error),a.errorWith(m.error);return}let g=m.data;if(typeof g<"u"){if(this.logger.info("received mocked response: %d %s",g.status,g.statusText),g.type==="error"){this.logger.info("received a network error response, rejecting the request promise..."),a.errorWith(new TypeError("Network error"));return}return a.respondWith(g)}this.logger.info("no mocked response received, performing request as-is...");},a.onResponse=async function({response:c,isMockedResponse:u,request:p,requestId:h}){this.logger.info('emitting the "response" event for %s listener(s)...',e.listenerCount("response")),e.emit("response",{response:c,isMockedResponse:u,request:p,requestId:h});},a.request}})}var $e=class extends se{constructor(){super($e.interceptorSymbol);}checkEnvironment(){return typeof globalThis.XMLHttpRequest<"u"}setup(){let e=this.logger.extend("setup");e.info('patching "XMLHttpRequest" module...');let t=globalThis.XMLHttpRequest;R(!t[S],'Failed to patch the "XMLHttpRequest" module: already patched.'),globalThis.XMLHttpRequest=dr({emitter:this.emitter,logger:this.logger}),e.info('native "XMLHttpRequest" module patched!',globalThis.XMLHttpRequest.name),Object.defineProperty(globalThis.XMLHttpRequest,S,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.XMLHttpRequest,S,{value:void 0}),globalThis.XMLHttpRequest=t,e.info('native "XMLHttpRequest" module restored!',globalThis.XMLHttpRequest.name);});}},Ge=$e;Ge.interceptorSymbol=Symbol("xhr");function pr(e,t){let r=new te({name:"fallback",interceptors:[new De,new Ge]});return r.on("request",async({request:s,requestId:n})=>{let i=s.clone(),o=await j(s,n,e.getRequestHandlers(),t,e.emitter,{onMockedResponse(l,{handler:a,parsedResult:c}){t.quiet||e.emitter.once("response:mocked",({response:u})=>{a.log({request:i,response:u,parsedResult:c});});}});o&&s.respondWith(o);}),r.on("response",({response:s,isMockedResponse:n,request:i,requestId:o})=>{e.emitter.emit(n?"response:mocked":"response:bypass",{response:s,request:i,requestId:o});}),r.apply(),r}function fr(e){return async function(r){e.fallbackInterceptor=pr(e,r),Pe({message:"Mocking enabled (fallback mode).",quiet:r.quiet});}}function gr(e){return function(){e.fallbackInterceptor?.dispose(),Ie({quiet:e.startOptions?.quiet});}}function mr(){try{let e=new ReadableStream({start:r=>r.close()});return new MessageChannel().port1.postMessage(e,[e]),!0}catch{return !1}}var vr=class extends B{constructor(...t){super(...t);f(this,"context");f(this,"startHandler",null);f(this,"stopHandler",null);f(this,"listeners");R(!re(),d.formatMessage("Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.")),this.listeners=[],this.context=this.createWorkerContext();}createWorkerContext(){let t={isMockingEnabled:!1,startOptions:null,worker:null,getRequestHandlers:()=>this.handlersController.currentHandlers(),registration:null,requests:new Map,emitter:this.emitter,workerChannel:{on:(r,s)=>{this.context.events.addListener(navigator.serviceWorker,"message",n=>{if(n.source!==this.context.worker)return;let i=n.data;i&&i.type===r&&s(n,i);});},send:r=>{this.context.worker?.postMessage(r);}},events:{addListener:(r,s,n)=>(r.addEventListener(s,n),this.listeners.push({eventType:s,target:r,callback:n}),()=>{r.removeEventListener(s,n);}),removeAllListeners:()=>{for(let{target:r,eventType:s,callback:n}of this.listeners)r.removeEventListener(s,n);this.listeners=[];},once:r=>{let s=[];return new Promise((n,i)=>{let o=l=>{try{let a=l.data;a.type===r&&n(a);}catch(a){i(a);}};s.push(this.context.events.addListener(navigator.serviceWorker,"message",o),this.context.events.addListener(navigator.serviceWorker,"messageerror",i));}).finally(()=>{s.forEach(n=>n());})}},supports:{serviceWorkerApi:!("serviceWorker"in navigator)||location.protocol==="file:",readableStreamTransfer:mr()}};return this.startHandler=t.supports.serviceWorkerApi?fr(t):Vt(t),this.stopHandler=t.supports.serviceWorkerApi?gr(t):Yt(t),t}async start(t={}){return t.waitUntilReady===!0&&d.warn('The "waitUntilReady" option has been deprecated. Please remove it from this "worker.start()" call. Follow the recommended Browser integration (https://mswjs.io/docs/integrations/browser) to eliminate any race conditions between the Service Worker registration and any requests made by your application on initial render.'),this.context.startOptions=J(Jt,t),await this.startHandler(this.context.startOptions,t)}stop(){super.dispose(),this.context.events.removeAllListeners(),this.context.emitter.removeAllListeners(),this.stopHandler();}};function Ne(...e){return new vr(...e)}var w,Xe,Ks=async e=>{Xe=e;},yr=e=>{if(w){if(window.__MSW_STORYBOOK__)return;if(w.resetHandlers(),e){if(Array.isArray(e)&&e.length>0)w.use(...e);else if("handlers"in e&&e.handlers){let t=Object.values(e.handlers).filter(Boolean).reduce((r,s)=>r.concat(s),[]);t.length>0&&w.use(...t);}}}},Vs=async e=>{let{parameters:{msw:t},viewMode:r}=e;if(!(!t||window.__MSW_STORYBOOK__&&window.__MSW_STORYBOOK__.worker))return r==="docs"&&window.__MSW_STORYBOOK__.worker?w=typeof global.process>"u"&&window.__MSW_STORYBOOK__.worker:w=typeof global.process>"u"&&Ne(),await w.start(Xe),yr(t),w&&(window.__MSW_STORYBOOK__=window.__MSW_STORYBOOK__||{},window.__MSW_STORYBOOK__.worker=w),{}};

exports.initialize = Ks;
exports.mswLoader = Vs;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map